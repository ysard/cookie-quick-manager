<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="icon" href="icons/icon48.png"/>
    <title>Cookie Quick Manager - Options</title>
    <style>
      body {
        min-height: 400px;
        font-size: 1.5em;
      }
      #shortcuts {
        max-width: 510px;
      }
      #addon-name {
        display: inline-block;
        margin-top: 10px;
        vertical-align: top;
        font-weight: bold;
      }
      #dynamic-tab {
        display: inline-block;
      }
      h2 {
        font-size: larger;
        margin-bottom: 5px;
        margin-top: 5px;
        margin-right: 15px;
      }
      .form-group {
        /* Reduce space between input lines in cookie details */
        margin-bottom: 5px;
        margin-left: 30px;
      }
      form label {
        font-weight: normal;
        /* For multiline labels next to checkboxes */
        vertical-align: top;
      }
      form input {
        vertical-align: bottom;
      }
      #select_skin, #select_template {
        padding-left: 0;
      }
      #skin, #template {
        width: 200px;
      }
      #paragraph {
        padding-left: 30px;
      }
      button {
        /* black theme fix */
        color: buttonText;
      }
      /* Fix checkbox vertical alignement with label */
      input[type="checkbox"] {
        vertical-align: text-bottom;
      }
      .ask_info {
        padding-left: 15px;
        cursor: pointer;
        opacity: 0.4;
      }
      .ask_info:hover {
        opacity: 1;
      }
      .info {
        margin-left: 15px;
        padding: 5px;
        max-width: 450px;
        font-size: 0.85em;
        font-style: italic;
        background-color: #F8F8F8;
        display: none;
      }
      kbd {
        font-weight: 700;
      }
      #protected-cookie-tree {
        width: 350px;
        margin-top: 20px;
      }
      #protected-cookie-tree .list-group-item {
        padding: 5px 15px;
      }
      #changelog span {
        padding-left: 20px;
      }
    </style>
  </head>
  <body>
    <div class="content">
      <h2 id="addon-name">Cookies Quick Manager</h2>
      <ul id="dynamic-tab" class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#settings" data-i18n-content="oSettings">Settings</a></li>
        <li><a id="my-protected-cookies-toggle" data-toggle="tab" href="#my-protected-cookies" data-i18n-content="oMyProtectedCookies">My protected cookies</a></li>
        <li><a data-toggle="tab" href="#shortcuts" data-i18n-content="oShortcuts">Shortcuts</a></li>
        <li><a data-toggle="tab" href="#about" data-i18n-content="oAbout">About</a></li>
      </ul>
      <div class="tab-content">
        <div id="settings" class="tab-pane active">
          <form id="cookie-details">
            <h2 data-i18n-content="oPrivacy">Privacy</h2>
            <div class="form-group row">
              <input type="checkbox" name="delete_all_on_restart" id="delete_all_on_restart">
              <label for="delete_all_on_restart" data-i18n-content="oDelete_all_on_restart"> Delete all cookies on restart</label>
              <span id="show_delete_all_on_restart" class="glyphicon glyphicon-info-sign ask_info"></span>
              <div id="delete_all_on_restart_info" class="info">
                <p>Due to limitations (the deletion occurs 2 seconds after restarting the browser),
                you will probably want to use the official option of Firefox:
                <strong>Preferences/Privacy &amp; security</strong>, section <strong>History</strong>.
                Set Firefox will to <strong>Use custom settings for history</strong>,
                then select the checkbox for <strong>Clear history when Firefox closes</strong>.
                Beside <strong>Clear history when Firefox closes</strong>, click the <strong>Settings…</strong> button.
                The Settings for Clearing History window will open.
                Finally put a check mark next to <strong>cookies</strong>.<br>
                Please note that the native option of Firefox will <strong>delete all the cookies</strong>
                even if they are protected.
                </p><p>
                To block and manage deletions and authorizations in a precise and efficient way,
                it is <strong>strongly recommended</strong> to use the matrix-based firewall: <a href="https://addons.mozilla.org/fr/firefox/addon/umatrix/">uMatrix</a>.
                </p>
              </div>
            </div>
            <div class="form-group row">
              <input type="checkbox" name="import_protected_cookies" id="import_protected_cookies">
              <label for="import_protected_cookies" data-i18n-content="oImport_protected_cookies"> Import cookies as protected cookies</label>
            </div>
            <div class="form-group row">
              <input type="checkbox" name="prevent_protected_cookies_deletion" id="prevent_protected_cookies_deletion">
              <label for="prevent_protected_cookies_deletion" data-i18n-content="oPrevent_protected_cookies_deletion"> Prevent sites from clearing protected cookies, even if they are expired</label>
            </div>
            <div class="form-group row">
              <input type="checkbox" name="fpi_status" id="fpi_status">
              <label for="fpi_status"> First-Party Isolation</label>
              <span id="show_fpi" class="glyphicon glyphicon-info-sign ask_info"></span>
              <div id="fpi_info" class="info">
                <p><strong>/!\ This feature is not available on Firefox 59. Thus, the cookie API is quite broken with
                it until Firefox 62 (not included). Because of that, on Firefox 60 and 61, the ability to join subdomains under one master domain is not available.</strong></p>
                <p>The firstPartyIsolate preference makes the browser associate all data
                (including cookies, HSTS data, cached images, and more) for any third party domains with
                the domain in the address bar. This prevents third party trackers from using directly stored
                information to identify the user across different websites, but may break websites where the
                user logs in with a third party account (such as a Facebook or Google account).</p>
                <p>More information at <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/cookies#First-party_isolation">Mozilla Developer Network</a>.</p>
                <p><strong>This feature is fully functional from version 59 of Firefox</strong></p>
              </div>
            </div>
            <h2 data-i18n-content="oAppearance">Appearance</h2>
            <div class="form-group row">
              <label id="select_skin" class="col-sm-12 col-form-label" for="skin" data-i18n-content="oSkin">Skin:</label>
              <select class="form-control" id="skin">
                <option value="default" data-i18n-content="oDefault">Default</option>
                <option value="hacker_style">Hacker style</option>
              </select>
            </div>
            <div class="form-group row">
              <input type="checkbox" name="open_in_new_tab" id="open_in_new_tab">
              <label for="open_in_new_tab" data-i18n-content="oOpen_in_new_tab"> Always open Cookie Quick Manager in new tab</label>
            </div>
            <div class="form-group row">
              <input type="checkbox" name="display_deletion_alert" id="display_deletion_alert">
              <label for="display_deletion_alert" data-i18n-content="oDisplay_deletion_alert"> Display an alert before removing cookies from entire browsing context(s) <br>(<em>Delete all</em> button or <em>Delete Current Context cookies</em> popup menu entry)</label>
            </div>
            <h2 data-i18n-content="oExport">Export</h2>
            <div class="form-group row">
              <label id="select_template" class="col-sm-12 col-form-label" for="template" data-i18n-content="oTemplate">Template:</label>

              <select class="form-control" id="template">
                <option value="JSON">JSON</option>
                <option value="NETSCAPE">Netscape</option>
              </select>

            </div>
            <h2 data-i18n-content="oYourData">Your data</h2>
            <div id="paragraph">
              <p>
                <button type="button" id="backupUserDataButton" data-i18n-content="aboutBackupButton">Backup user data to a file</button>
                <button type="button" id="restoreUserDataButton" data-i18n-content="aboutRestoreButton">Restore user data from a file</button>
                <input id="restoreFilePicker" accept=".json" style="display:none;" type="file">
              </p>
              <p data-i18n-content="aboutOr">Or, you can...</p>
              <p><button type="button" id="resetUserDataButton" data-i18n-content="aboutResetButton">Go back to default settings</button></p>
            </div>
          </form>
        </div>

        <div id="my-protected-cookies" class="tab-pane">
          <h2 data-i18n-content="oManagementOfProtectedCookies">Management of protected cookies</h2>
          <div id="paragraph">
            <p data-i18n-content="oManagementOfProtectedCookiesText">Here you can view all of protected cookies and delete them if you wish.</p>
            <button type="button" id="unprotectSelectedCookies" data-i18n-content="unprotectSelectedCookiesButton">Unprotect selected cookies</button>
            <div id="protected-cookie-tree"></div>
          </div>
        </div>

        <div id="about" class="tab-pane">
          <ul>
            <li><a href="https://github.com/ysard/cookie-quick-manager/" data-i18n-content="oLicense">Source code (Under GPLv3 license)</a></li>
            <li><a href="https://github.com/ysard/cookie-quick-manager/issues" data-i18n-content="oIssues">Report an issue</a></li>
            <li><span data-i18n-content="oThanks">Thanks (help and bug reports):</span> Gschanuel, Killogy, Laniakea64, Lejomoz, Machou, Practik, Seanryan-seanryan, bendover22, bughit, AX-Turbo, StanGets, Sane-Max, SpaceClicker, grandemestre, iG8R.</li>
            <li><span data-i18n-content="oTranslations">Translations:</span> Cyanotyp (de), Scheinercc (de).</li>
            <li><span data-i18n-content="oExternalDependencies">External dependencies (GPLv3 compatible):</span>
              <ul>
                <li><a href="https://jquery.com/">JQuery (MIT)</a> available <a href="https://github.com/jquery/jquery">here</a>.</li>
                <li><a href="https://getbootstrap.com/docs/3.4/css/">Bootstrap (MIT)</a> available <a href="https://github.com/twbs/bootstrap">here</a>.</li>
                <li><a href="https://momentjs.com/">Moment.js (MIT)</a> available <a href="https://github.com/moment/moment/">here</a>.</li>
                <li><a href="https://swisnl.github.io/jQuery-contextMenu/">jQuery contextMenu (MIT)</a> available <a href="https://github.com/swisnl/jQuery-contextMenu">here</a>.</li>
                <li><a href="https://eonasdan.github.io/bootstrap-datetimepicker/">Bootstrap 3 Datepicker (MIT) </a> available <a href="https://github.com/Eonasdan/bootstrap-datetimepicker">here</a>.</li>
                <li><a href="https://github.com/jonmiles/bootstrap-treeview">Bootstrap-treeview (Apache-2.0)</a> available <a href="https://github.com/jonmiles/bootstrap-treeview">here</a>.</li>
              </ul>
            </li>
          </ul>
          <div id="changelog">
          <h2>Changelog</h2>
            <span>0.5rc2</span>
            <ul>
                <li>Bring back compatibility with FF 56 #64 #67</li>
                <li>Display number of concerned cookies in modal alert of popupmenu; Related to #58</li>
                <li>Default behavior: open CQM in tab</li>
                <li>[gui] Deleting cookies is now only done on the cookies visible in the interface; Related to #58</li>
                <li>Ready for manual code review by Mozilla</li>
            </ul>
            <span>0.4rc4-0.5rc1</span>
            <ul>
                <li>Support for 'Proper Private Browsing Behavior' starting from FF67; Related to #63</li>
                <li>Return of contextual identities icons; Related to #57</li>
                <li>Add an alert when removing cookies from a context from the context menu. Related to #58</li>
                <li>Try to make editing and adding cookies easier by limiting cursor position changes. Related to #62</li>
                <li>Fix menu height; Related to #60</li>
                <li>Popup menu: set width with em instead of px, this should solve some problems for untested font sizes; fix typos; Related to #60</li>
                <li>No longer let the user put an expiration date in the past; avoids unintended deletion of cookies</li>
                <li>Fix bug during export: dollar sign in values of cookies</li>
                <li>Refactoring function used to export 1 cookie</li>
                <li>Import: Display the number of cookies successfully imported</li>
                <li>Import: Add a Netscape file parser</li>
                <li>Migration to JQuery 3.4.1</li>
                <li>[gui] Keep selected cookie when auto-refresh is activated</li>
                <li>[gui] Improve advanced filter menu</li>
                <li>Various gui fixes and translations added</li>
            </ul>
            <span>0.4rc2-0.4rc3</span>
            <ul>
                <li>Add a list of external dependencies and some translations in Options</li>
                <li>It's 2019!: Update the date of the license</li>
                <li>Edit button: replace colored border with colored icon: uniformization</li>
                <li>Highlight save button when a field in cookie details is modified</li>
                <li>Popup menu: Ability to delete all cookies of the current context</li>
                <li>Fix default size for windowed mode</li>
                <li>Improve popup menu loading</li>
                <li>Add a button for donations via Liberapay</li>
                <li>Fix Popup menu: Fix #56</li>
            </ul>
            <span>0.4rc1</span>
            <ul>
                <li>UI fixes</li>
                <li>Fix size of windowed mode</li>
                <li>Ability to view and edit protected cookies; Fix #41</li>
                <li>Ask optional permission to copy data on clipboard (FF63+=)</li>
                <li>Android support</li>
                <li>Fix UI for devices with small screens</li>
                <li>Session cookies can be protected in two clicks to prevent accidental logout from websites after cleaning normal cookies.</li>
            </ul>
            <span>0.3rc6</span>
            <ul>
                <li>Various UI fixes</li>
                <li>Keep the checkbox status for auto-actualize option (#48)</li>
                <li>Add option to prevent deletion of protected cookies by websites; Fix #46</li>
                <li>Add shortcut for 'delete all' button (#48) </li>
                <li>Typos changes in the popup menu => facilitates understanding of options</li>
                <li>Update translations</li>
                <li>Fix cookies no longer being deleted on restart #44</li>
                <li>Display the number of domains displayed in the header of the column</li>
                <li>Improve quality of code</li>
                <li>More German translations</li>
                <li>SameSite implementation for FF63+: export/import</li>
                <li>SameSite implementation for FF63+</li>
            </ul>
            <span>0.3rc5</span>
            <ul>
                <li>Various UI fixes</li>
                <li>Search engine on cookies names and values</li>
                <li>Improve readability of the middle column</li>
                <li>Fix buttons readability in black themes; fixes #39</li>
                <li>Fix merging of domains and subdomains when a cookie without domain is in the list</li>
                <li>Fix bug in cookie protection: protected_cookies undefined</li>
            </ul>
            <span>0.3rc4</span>
            <ul>
                <li>Fix textarea size in the ui</li>
                <li>Add an option for the display of an alert before removing multiple cookies from contexts</li>
                <li>Add German translations from #34 #35</li>
                <li>Add translations for the popup menu</li>
                <li>Refactorisation of the menu; Improved loading; Add translations code</li>
                <li>Factorisation of internationalization code</li>
                <li>Display the number of localstorage items in the menu</li>
                <li>Add favicon; closes #32</li>
            </ul>
            <span>0.3rc3</span>
            <ul>
                <li>Improve placement of tooltips</li>
                <li>Add auto-refresh checkbox which allows to monitor the creation/deletion/modification of cookies (#30)</li>
                <li>Fix bug/regression when CQM was opened in a new window (blank page)</li>
                <li>Add an overlay to alert user who is about to delete all cookies in a context</li>
                <li>Add Changelog information to options page</li>
                <li>Fix filename/filetype of exported file, according to the selected export format</li>
                <li>Add Ctrl+O/Ctrl+S shortcuts to Import/Export cookies from/to a backup. Close #28</li>
                <li>Add a title to store badges; this title will be displayed on mouse hover; closes #27</li>
            </ul>
            <span>0.3rc2</span>
            <ul>
                <li>Repair update_selected_domain_badges, since 5e8dd60</li>
                <li>Fix bug with delete key on mac, which also deletes the current cookie..</li>
                <li>Update AMO descriptions</li>
            </ul>
            <span>0.3rc1</span>
            <ul>
                <li>Update AMO descriptions</li>
                <li>Fix mediaqueries for the small layout</li>
                <li>Force lists to fit in the browser viewport; adjust the optimal heigth of the windowed mode</li>
                <li>Inform users about broken FPI feature until FF62; see 176a98b</li>
                <li>Trigger badges recalculation when removing domain/domains</li>
                <li>Refactoring</li>
                <li>More updated translations</li>
                <li>Move search related inputs/buttons on a dedicated navbar</li>
                <li>Remove bin button for the deletion of cookies in a domain</li>
                <li>Do not delete domain from list with protected cookie, or don't try to remove a single protected co
    okie; close #25</li>
                <li>Update badges on domains after deletion, addition, copy to another container: counter &amp; container
    badges; closes #24</li>
                <li>Repositioning the cursor to the next item if it exists, or to the previous item after removing a d
    omain or cookie in the lists; closes #15</li>
                <li>implementation of a contextual menu on the domains</li>
                <li>Add support for backspace as suppr key on MacOS; improve the display of shortcuts; closes #26</li>
                <li>Fix Ctrl+F shortcut for macOS: use meta key; close #11</li>
                <li>Solve focus bugs, closes #20 and #21</li>
                <li>Fix empty domains or no domain to show error.</li>
                <li>Swap lock icon state; Refactoring; close #10</li>
                <li>Speed up the display of domains/cookies; solve the duplication of cookies during the search</li>
                <li>Add caret to dropdown and popover menus; Also add tooltips on them</li>
                <li>Support of First-Party Isolation</li>
                <li>Use jquery 3.3.1 instead of 2.x</li>
                <li>Support of de and fr locales</li>
            </ul>
            <span>0.2rc4</span>
            <ul>
                <li>Various UI fixs</li>
                <li>Add lock badge on cookie-list for those which are protecte</li>
                <li>Add buttons in popup menu: delete current cookies &amp; clear LocalStorage; new permission browsingdata is required</li>
                <li>Quick selector to search cookies in specific containers</li></li>
            </ul>
            <span>0.2rc3</span>
            <ul>
                <li>Add badges corresponding to the containers for each domain &amp; cookie</li>
                <li>Add select menu for stores/containers in cookie details</li>
                <li>API for containers in FF57+</li>
            </ul>
          </div>
        </div>
        <div id="shortcuts" class="tab-pane">
          <table class="table">
            <tbody>
              <tr>
                <td><kbd>tab</kbd></td>
                <td data-i18n-content="oSwitchCookies">Switch to the list of cookies</td>
              </tr>
              <tr>
                <td><kbd>⇧ + tab</kbd></td>
                <td data-i18n-content="oSwitchDomains">Switch to the list of domains</td>
              </tr>
              <tr>
                <td><kbd>suppr</kbd>, <kbd>⌘ + del</kbd></td>
                <td data-i18n-content="oDelCurrentCookie">Delete the current cookie</td>
              </tr>
              <tr>
                <td><kbd>ctrl + D</kbd>, <kbd>⌘ + D</kbd>, <kbd>⊞ + D</kbd></td>
                <td data-i18n-content="oDelCurrentCookie">Delete all the cookie of the selected context</td>
              </tr>
              <tr>
                <td><kbd>ctrl + F</kbd>, <kbd>⌘ + F</kbd>,<br><kbd>⊞ + F</kbd></td>
                <td data-i18n-content="oSearchDomain">Search a domain</td>
              </tr>
              <tr>
                <td><kbd>ctrl + O</kbd>, <kbd>⌘ + O</kbd>,<br><kbd>⊞ + O</kbd></td>
                <td data-i18n-content="oRestoreFile">Restore a JSON backup</td>
              </tr>
              <tr>
                <td><kbd>ctrl + S</kbd>, <kbd>⌘ + S</kbd>,<br><kbd>⊞ + S</kbd></td>
                <td data-i18n-content="oExportAll">Export all cookies to a JSON file</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <script src="static/js/jquery-3.4.1.min.js"></script>
    <script src="static/js/bootstrap-3.3.7.min.js"></script>
    <script src="static/js/bootstrap-treeview-1.2.0.min.js"></script>
    <script src="api.js"></script>
    <script src="options.js"></script>
    <script src="internationalization.js"></script>
  </body>
</html>
